<!DOCTYPE html>
<html>
<head>
  <title>Document</title>
</head>
<body>
  <p>Rock Paper Scissors</p>
  <button
   onclick="

 computerMove = pickMove();
 playGame('Rock');
  
//global variables cant be same...but we can separate identical variable by scope{}..
// var variable create conflict even when inside the scope.Dont follow rules of scope..
  ">Rock</button>


  <button
  onclick="
  
  computerMove = pickMove();
  playGame('Paper');

  
">Paper</button>

<button
onclick="

  computerMove = pickMove();
  playGame('Scissors');
  



">Scissors</button>


<p class="js-result"></p>
<p class=js-moves></p>
<p class="js-score">

</p>



<button
onclick="
 score.wins =0;
 score.losses = 0;
 score.ties =0;
 
 localStorage.removeItem(score);
 updateScoreElement();

 //if there was a null score value fortunately we dont get it i dont know why, then..


">
  Reset Score
</button>

<script>
  let score =  JSON.parse(localStorage.getItem('score'))||{

    wins: 0,
    losses: 0,
    ties: 0

  };








  updateScoreElement();
  

 


let result= '';



function pickMove(){

let computerMove = '';//we put computerMove here to refresh it after every click...


const randomNumber = Math.random(); 


if(randomNumber >=0 && randomNumber < 1/3)
{
  computerMove ='Rock';
}else if(randomNumber >=1/3 && randomNumber<2/3)
{
  computerMove ='Paper';
}else if(randomNumber>=2/3 && randomNumber<1)
{
  computerMove = 'Scissors';
}

return computerMove ;
}





function playGame(playerMove)
{

  if (playerMove==='Scissors')
  {

    if(computerMove ==='Rock')
    {
    result ='You Lose.';
    }
    else if (computerMove === 'Paper')
    {
    result='You Win.';
    }
    else if (computerMove = 'Scissors')
    {
    result ='Tie.';
    }


  }
  else if(playerMove === 'Paper')
  {
    
    

    if(computerMove ==='Rock'){
    result ='You Win.';
    }
    else if (computerMove === 'Paper')
    {
    result='Tie.';
    }
    else if (computerMove = 'Scissors')
    {
    result ='You Lose.';
    }


  }

  else if (playerMove==='Rock')

  {
    if(computerMove ==='Rock')
    {
    result ='Tie.';
    }
    else if (computerMove === 'Paper')
    {
    result='You lose.';
    }
    else if (computerMove = 'Scissors')
    {
    result ='You Win.';
    }
    
    }





  if(result ==='You Win.')
  {
      score.wins +=1;
    }
    else if(result==='You Lose.')
    {
      score.losses +=1;
    }
    else if (result==='Tie.')
    {
      score.ties +=1;
    }

      localStorage.setItem('score',JSON.stringify(score));

      document.querySelector('.js-result').innerHTML=result;
      

      document.querySelector('.js-moves').innerHTML=`You picked ${playerMove}-Computer picked ${computerMove}`;


      updateScoreElement();

      
  
}

function updateScoreElement(){
  document.querySelector('.js-score').innerHTML=(`Wins:${score.wins},Losses:${score.losses},Ties:${score.ties}`);

}
















  // 1) this immediately ends the function..and returns back to where we called the function..
  
  //return statement lets us return value out of a function..
  
  
  
  
  // 2) Functions Creates a Scope..
  // declare global variables outside the      function..


// 3) we can transforn local variable into global variable by making the function return that variable....

// 4) returning  a variable is preferred over global variables
//because it prevents naming conflicts.. 

</script>
</body>
</html>